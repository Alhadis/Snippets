<!DOCTYPE html>
<html>
<head>
<title>Expandable Search Bar</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta name="viewport" content="initial-scale=1, minimum-scale=1" />
<link rel="stylesheet" type="text/css" media="all" href="search-bar.css" />
<style type="text/css">
/** Demo styling */
*{
	box-sizing: border-box;
}
body{
	background: #000;
	color: #fff;
	margin: 0 auto;
	padding: 1em;
	max-width: 40em;
}

.control{
	display: none;
}

label{
	cursor: pointer;
}

.trans-all{
	transition: .3s ease all;
}
</style>
</head>


<body>
	<div id="search-bar">
		<input class="control" type="checkbox" id="sb_close" checked="checked" />
		<label class="disclosure" for="sb_close"></label>

		<input type="search" placeholder="Search&hellip;" value="" id="s" name="s" />
		<input type="submit" id="sb_submit" value="&#xF002;" />
		<i id="sb_buffer"></i>
	</div>



	<main role="main">
		<h1>Main body of content</h1>
	</main>

	<script type="text/javascript">
		(function(){
			var searchField	=	document.getElementById("s");
			var searchClose	=	document.getElementById("sb_close");

			/** Shifts input focus to the newly-revealed search pane. */
			searchClose.addEventListener("change", function(e){

				if(!e.target.checked)
					setTimeout(function(){ searchField.focus(); }, 100);
			});


			/** If clicking/tapping anywhere in the page's body, close the search menu if it's still open. */
			document.getElementsByTagName("main")[0].addEventListener("click", function(e){
				searchClose.checked	=	true;
			});
		}());
	</script>
</body>
</html>