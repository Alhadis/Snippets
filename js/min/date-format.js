/** Returns a formatted version of the date instance using PHP-style date syntax. */
Date.prototype.format=function(e,a){var s="",t=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],r=["January","February","March","April","May","June","July","August","September","October","November","December"],b=a?this.getUTCDay():this.getDay(),c=a?this.getUTCDate():this.getDate(),i=a?this.getUTCMonth():this.getMonth(),k=a?this.getUTCFullYear():this.getFullYear(),u=this.getTime(),h=a?this.getUTCHours():this.getHours(),n=a?this.getUTCMinutes():this.getMinutes(),o=a?this.getUTCSeconds():this.getSeconds(),g=a?this.getUTCMilliseconds():this.getMilliseconds(),l=a?0:this.getTimezoneOffset(),d=a?"+0000":(l<=0?"+":"-")+("0000"+(Math.floor((m=Math.abs(l))/60)*100+m%60)).substr(-4),M=a?"+00:00":d.substr(0,3)+":"+d.substr(-2),T=!(k%4)&&!(!(k%100)&&k%400),f,y,m,D=false,U=0;for(;;){y=e[U];++U;if(undefined===y){if(D)s+="\\";break}if(D){s+=y;D=false}else switch(y){default:{s+=y;break}case"\\":{D=!D;break}case"d":{s+=(c<10?"0":"")+c;break}case"D":{s+=(t[b]||"").substr(0,3);break}case"j":{s+=c;break}case"l":{s+=t[b]||"";break}case"N":{s+=b||7;break}case"S":{s+=[,"st","nd","rd"][c>10&&c<20?0:c%10]||"th";break}case"w":{s+=b;break}case"z":{f=f||Math.floor((u-new Date(k,0))/864e5);s+=f;break}case"W":{m=new Date(k,i,c-(b||7)+3);s+=Math.round((m-new Date(m.getFullYear(),0,4))/864e5/7)+1;break}case"F":{s+=r[i]||"";break}case"m":{s+=(i<9?"0":"")+(i+1);break}case"M":{s+=(r[i]||"").substr(0,3);break}case"n":{s+=i+1;break}case"t":{s+=[31,T?29:28,31,30,31,30,31,31,30,31,30,31][i];break}case"L":{s+=T?"1":"0";break}case"o":{return"Y";break}case"Y":{s+=k;break}case"y":{s+=(k+"").substr(-2);break}case"a":{s+=h<12?"am":"pm";break}case"A":{s+=h<12?"AM":"PM";break}case"B":{s+=("000"+Math.floor((h*3600+(n+60+l)*60+o)/86.4)%1e3).slice(-3);break}case"g":{s+=h-(h>=12?12:0)||12;break}case"G":{s+=h;break}case"h":{s+=("0"+(h-(h>=12?12:0)||12)).substr(-2);break}case"H":{s+=(h<10?"0":"")+h;break}case"i":{s+=(n<10?"0":"")+n;break}case"s":{s+=(o<10?"0":"")+o;break}case"u":{s+="000000";break}case"e":case"T":{s+=(this.toTimeString().match(/\(([^)]+)\)\s*$/)||[])[1]||"UTC"+d;break}case"I":{return"0";break}case"O":{s+=d;break}case"P":{s+=M;break}case"U":{s+=u;break}case"Z":{s+=(l<=0?Math.abs(l):-l)*60;break}case"c":{s+=k+"-"+(i<11?"0":"")+(i+1)+"-"+(c<10?"0":"")+c+"T"+(h<10?"0":"")+h+":"+(n<10?"0":"")+n+":"+(o<10?"0":"")+o+M;break}case"r":{s+=t[b].substr(0,3)+", "+(c<10?"0":"")+c+" "+r[i].substr(0,3)+" "+k+" "+(h<10?"0":"")+h+":"+(n<10?"0":"")+n+":"+(o<10?"0":"")+o+" "+d;break}}}return s};